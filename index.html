<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>title</title>
    <script src="https://static.line-scdn.net/liff/edge/2/sdk.js"></script>
  </head>
  <body>
    <button id="goGoogle">前往google</button>
    <button id="sendMsg">發送一段廢話</button>
    <button id="sendMsgF">發送一段廢話給你朋友</button>
    <button id="scan">掃描QRcode</button>
    <div id="info"></div>
  </body>
</html>
<script>
  var liffID = '1656765753-gpONyAzm'

  liff
    .init({
      liffId: liffID,
    })
    .then(function () {
      // 這邊開始寫使用其他功能
      if (!liff.isLoggedIn()) {
        liff.login()
      }

      function scan() {
        liff.scanCodeV2().then((res) => {
          liff.openWindow({
            // uri：要開啟的網址
            url: res.value,

            // external：
            // 是否要用外部瀏覽器打開，這在 LINE APP 下開頁面時會比較有感
            // 一般我們在 LINE 上開連結，都會是在 LINE 的框架下，external 設為 true，就可以直接用瀏覽器開啟而不是在 LINE 的框架下開啟
            // 預設值是 false
            external: true,
          })
        })
      }

      function sendMsgToFriend() {
        liff.shareTargetPicker(
          [
            {
              type: 'text',
              text: '一段廢話',
            },
          ],
          {
            isMultiple: true,
          }
        )
        liff.closeWindow()
      }

      function sendMsg() {
        liff.sendMessages([
          {
            type: 'text',
            text: '一段廢話',
          },
        ])
        liff.closeWindow()
      }

      function openGoogle() {
        liff.openWindow({
          // uri：要開啟的網址
          url: 'https://google.com',

          // external：
          // 是否要用外部瀏覽器打開，這在 LINE APP 下開頁面時會比較有感
          // 一般我們在 LINE 上開連結，都會是在 LINE 的框架下，external 設為 true，就可以直接用瀏覽器開啟而不是在 LINE 的框架下開啟
          // 預設值是 false
          external: true,
        })
      }

      document.getElementById('goGoogle').onclick = openGoogle
      document.getElementById('sendMsg').onclick = sendMsg
      document.getElementById('sendMsgF').onclick = sendMsgToFriend
      document.getElementById('scan').onclick = scan
    })
    .catch(function (error) {
      console.log(error)
    })
</script>
