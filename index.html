<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>title</title>
    <script src="https://static.line-scdn.net/liff/edge/2/sdk.js"></script>
  </head>
  <body>
    <button id="goGoogle">前往google</button>
    <button id="sendMsg">發送一段廢話</button>
    <button id="sendMsgF">發送一段廢話給你朋友</button>
    <button id="scan">掃描QRcode</button>
    <div id="info"></div>
  </body>
</html>
<script>
  var liffID = '1656765753-gpONyAzm'

  liff
    .init({
      liffId: liffID,
    })
    .then(function () {
      // 這邊開始寫使用其他功能
      if (!liff.isLoggedIn()) {
        liff.login()
      }

      function scan() {
        liff.scanCodeV2().then((res) => {
          liff.openWindow({
            url: res.value,

            external: true,
          })
        })
      }

      function sendMsgToFriend() {
        liff.shareTargetPicker(
          [
            {
              type: 'flex',
              altText: 'this is a flex message',
              contents: {
                type: 'carousel',
                contents: [
                  {
                    type: 'bubble',
                    size: 'micro',
                    hero: {
                      type: 'image',
                      url: 'https://scdn.line-apps.com/n/channel_devcenter/img/flexsnapshot/clip/clip10.jpg',
                      size: 'full',
                      aspectMode: 'cover',
                      aspectRatio: '320:213',
                    },
                    body: {
                      type: 'box',
                      layout: 'vertical',
                      contents: [
                        {
                          type: 'text',
                          text: 'Brown Cafe',
                          weight: 'bold',
                          size: 'sm',
                          wrap: true,
                        },
                        {
                          type: 'box',
                          layout: 'baseline',
                          contents: [
                            {
                              type: 'icon',
                              size: 'xs',
                              url: 'https://scdn.line-apps.com/n/channel_devcenter/img/fx/review_gold_star_28.png',
                            },
                            {
                              type: 'icon',
                              size: 'xs',
                              url: 'https://scdn.line-apps.com/n/channel_devcenter/img/fx/review_gold_star_28.png',
                            },
                            {
                              type: 'icon',
                              size: 'xs',
                              url: 'https://scdn.line-apps.com/n/channel_devcenter/img/fx/review_gold_star_28.png',
                            },
                            {
                              type: 'icon',
                              size: 'xs',
                              url: 'https://scdn.line-apps.com/n/channel_devcenter/img/fx/review_gold_star_28.png',
                            },
                            {
                              type: 'icon',
                              size: 'xs',
                              url: 'https://scdn.line-apps.com/n/channel_devcenter/img/fx/review_gray_star_28.png',
                            },
                            {
                              type: 'text',
                              text: '4.0',
                              size: 'xs',
                              color: '#8c8c8c',
                              margin: 'md',
                              flex: 0,
                            },
                          ],
                        },
                        {
                          type: 'box',
                          layout: 'vertical',
                          contents: [
                            {
                              type: 'box',
                              layout: 'baseline',
                              spacing: 'sm',
                              contents: [
                                {
                                  type: 'text',
                                  text: '東京旅行',
                                  wrap: true,
                                  color: '#8c8c8c',
                                  size: 'xs',
                                  flex: 5,
                                },
                              ],
                            },
                          ],
                        },
                      ],
                      spacing: 'sm',
                      paddingAll: '13px',
                    },
                  },
                  {
                    type: 'bubble',
                    size: 'micro',
                    hero: {
                      type: 'image',
                      url: 'https://scdn.line-apps.com/n/channel_devcenter/img/flexsnapshot/clip/clip11.jpg',
                      size: 'full',
                      aspectMode: 'cover',
                      aspectRatio: '320:213',
                    },
                    body: {
                      type: 'box',
                      layout: 'vertical',
                      contents: [
                        {
                          type: 'text',
                          text: "Brow&Cony's Restaurant",
                          weight: 'bold',
                          size: 'sm',
                          wrap: true,
                        },
                        {
                          type: 'box',
                          layout: 'baseline',
                          contents: [
                            {
                              type: 'icon',
                              size: 'xs',
                              url: 'https://scdn.line-apps.com/n/channel_devcenter/img/fx/review_gold_star_28.png',
                            },
                            {
                              type: 'icon',
                              size: 'xs',
                              url: 'https://scdn.line-apps.com/n/channel_devcenter/img/fx/review_gold_star_28.png',
                            },
                            {
                              type: 'icon',
                              size: 'xs',
                              url: 'https://scdn.line-apps.com/n/channel_devcenter/img/fx/review_gold_star_28.png',
                            },
                            {
                              type: 'icon',
                              size: 'xs',
                              url: 'https://scdn.line-apps.com/n/channel_devcenter/img/fx/review_gold_star_28.png',
                            },
                            {
                              type: 'icon',
                              size: 'xs',
                              url: 'https://scdn.line-apps.com/n/channel_devcenter/img/fx/review_gray_star_28.png',
                            },
                            {
                              type: 'text',
                              text: '4.0',
                              size: 'sm',
                              color: '#8c8c8c',
                              margin: 'md',
                              flex: 0,
                            },
                          ],
                        },
                        {
                          type: 'box',
                          layout: 'vertical',
                          contents: [
                            {
                              type: 'box',
                              layout: 'baseline',
                              spacing: 'sm',
                              contents: [
                                {
                                  type: 'text',
                                  text: '東京旅行',
                                  wrap: true,
                                  color: '#8c8c8c',
                                  size: 'xs',
                                  flex: 5,
                                },
                              ],
                            },
                          ],
                        },
                      ],
                      spacing: 'sm',
                      paddingAll: '13px',
                    },
                  },
                  {
                    type: 'bubble',
                    size: 'micro',
                    hero: {
                      type: 'image',
                      url: 'https://scdn.line-apps.com/n/channel_devcenter/img/flexsnapshot/clip/clip12.jpg',
                      size: 'full',
                      aspectMode: 'cover',
                      aspectRatio: '320:213',
                    },
                    body: {
                      type: 'box',
                      layout: 'vertical',
                      contents: [
                        {
                          type: 'text',
                          text: 'Tata',
                          weight: 'bold',
                          size: 'sm',
                        },
                        {
                          type: 'box',
                          layout: 'baseline',
                          contents: [
                            {
                              type: 'icon',
                              size: 'xs',
                              url: 'https://scdn.line-apps.com/n/channel_devcenter/img/fx/review_gold_star_28.png',
                            },
                            {
                              type: 'icon',
                              size: 'xs',
                              url: 'https://scdn.line-apps.com/n/channel_devcenter/img/fx/review_gold_star_28.png',
                            },
                            {
                              type: 'icon',
                              size: 'xs',
                              url: 'https://scdn.line-apps.com/n/channel_devcenter/img/fx/review_gold_star_28.png',
                            },
                            {
                              type: 'icon',
                              size: 'xs',
                              url: 'https://scdn.line-apps.com/n/channel_devcenter/img/fx/review_gold_star_28.png',
                            },
                            {
                              type: 'icon',
                              size: 'xs',
                              url: 'https://scdn.line-apps.com/n/channel_devcenter/img/fx/review_gray_star_28.png',
                            },
                            {
                              type: 'text',
                              text: '4.0',
                              size: 'sm',
                              color: '#8c8c8c',
                              margin: 'md',
                              flex: 0,
                            },
                          ],
                        },
                        {
                          type: 'box',
                          layout: 'vertical',
                          contents: [
                            {
                              type: 'box',
                              layout: 'baseline',
                              spacing: 'sm',
                              contents: [
                                {
                                  type: 'text',
                                  text: '東京旅行',
                                  wrap: true,
                                  color: '#8c8c8c',
                                  size: 'xs',
                                  flex: 5,
                                },
                              ],
                            },
                          ],
                        },
                      ],
                      spacing: 'sm',
                      paddingAll: '13px',
                    },
                  },
                ],
              },
            },
          ],
          {
            isMultiple: true,
          }
        )
        liff.closeWindow()
      }

      function sendMsg() {
        liff.sendMessages([
          {
            type: 'text',
            text: '一段廢話',
          },
        ])
        liff.closeWindow()
      }

      function openGoogle() {
        liff.openWindow({
          // uri：要開啟的網址
          url: 'https://google.com',

          external: true,
        })
      }

      document.getElementById('goGoogle').onclick = openGoogle
      document.getElementById('sendMsg').onclick = sendMsg
      document.getElementById('sendMsgF').onclick = sendMsgToFriend
      document.getElementById('scan').onclick = scan
    })
    .catch(function (error) {
      console.log(error)
    })
</script>
